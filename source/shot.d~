static import simpledisplay;
alias sd = simpledisplay;
import std.stdio, std.typecons, std.range;
import gameObject;
import bird;

class Shot : GameObject{
	//Koska liittyy grafiikkaan, voisi m채채ritell채 ehk채 mieluummin muualla.
	enum Tuple!(float, "distance", float, "damage")[] damageDistances = [[25, 2], [40, 1]];
	final void override private eachStep(float deltaTime)
	{	hitCanditates.each!((a)
	{	damage = damageDistances
		.	findSplit!(b => b.distance^^ 2 < (b.position - a.position).lengthsqr)[1]
		;
		if (!damage.empty) {a.hitPoints -= damage.front.damage;}
	});}
	abstract ref InputRange!Bird hitCanditates();
}


